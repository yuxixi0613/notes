## 1. 组件通信高级准备 

1. 组件间高级通信基础代码 捞Communication组件 至 pages
2.  route.js /communication 复制捞走至项目
3. main.js 引入 Button

## 2. 消息的订阅和发布

1. 组件间通信方式 

   1. props props是vue当中最基本的常用的组件间通信方式

      使用场景：父子之间通信

      父可以给子传递 非函数和函数

      传非函数数据 就是父给子

      传函数数据 本质是父想要子的数据

      pros 子组件声明接收属性三种写法	==9:03==

      	1. 数组写法 无法限定数据类型
       	2. 对象写法 只能限定数据类型
       	3. 对象 

      特殊：

      ​	路由配置props 简化组件使用路由参数

      ​	1、布尔值 只能映射params参数

      ​	2、对象 映射传递额外的静态数据 一般不用

      ​	3、函数 手动映射prarams参数和query参数

      如果不用props，那么组件内要用数据必须要写成

      this.\$router.params.xxx	this.\$route.query.xxx

      

   2. 全局事件总线 vue当中组件通信的一种方式

      使用场景	所有场合

      全局事件总线的角色标准 本质是一个对象

      ​	1、所有的组件对象都可以看到它

      ​	2、可以使用\$on和$emit方法 存在vue原型当中 vm和组件对象可调

      ​	为什么？vm的原型是组件对象原型的原型
      
      怎么添加事件总线
      
      ​	1、安装总线 怎么安装的呢？在main.js中
      
      ​	2、在接收数据的组件对象当中，获取总线给总线绑定自定义事件，回调函数的定义会留在本组件 this.\$bus.\$on
      
      ​	3、在发送数据的组件对象当中 获取总线触发总线身上绑定的自定义事件 就可以调用回调函数，通过函数传参this.\$bus.\$emit
      
   3. 消息的订阅和发布 pubsub-js 是组件通信的一种方式 和全局事件总线类似 效率不如全局事件总线高
   
      PubSubJS是一个第三方包，本质引入是一个对象 一般不用
   
      ​	PubSub.publish() 方法是用来发布消息的 其实就是\$emit
   
      ​	PubSub.subscribe() 方法是用来订阅消息的 其实就是\$on
   
      由于是第三方包使用的时候不需要在main当中注册
   
      唯一区别 
   
      ​	在接收的组件当中，通过Pub.subscribe(消息名， 回调函数)去订阅消息，回调函数就留在当前组件
   
      ​	在发送数据的组件当中，通过PubSub.publish(消息名, 数据)去发布消息，可以调用函数传递数据
   
   4. vuex
   
      ​	6个核心概念
   
      ​	state 共享状态数据 state当中的数据在每次打开项目和刷新项目的时候都要重新初始化
   
      ​	mutations 直接修改state当中的数据 并不是不能写 不建议写 非要写工具会出问题 先后顺序 vuex工具时间
   
      ​	actions 提交mutaitons修改数据 响应组件dispatch异步发送请求
   
      ​	getters 等价于组件的computed的getter
   
      ​	modules vuex的模块化开发 影响的是state
   
      ​	namespace 命名空间
   

## 

   1. event深入
   
   2. 原生dom事件 （三要素：事件源 时间类型 回调事件）
   
      事件类型 回调函数 谁调用 默认传递的实参是什么
   
      1、事件类型	固定的几十个
   
      2、回调函数	自己去定义的
   
      3、触发（分发、触发事件）了谁调用 系统调用 浏览器去调用
   
      4、event事件对象 （浏览器在调用回调函数的时候，会把当前这一次触发事件相关的所有信息封装成一个对象传递给回调函数的第一个形参）
   
      
   
      box.onclick = function(){}
   
      
   
   3. 自定义事件
   
      事件类型 回调函数 谁调用 默认传递的是什么
   
       
   
      1、事件类型	无数个
   
      2、回调函数	自己去定义的
   
      3、谁调用	自己去调用 自己使用\$emit触发调用的
   
   4. \$event 原生dom事件 事件对象   自定义事件 则是 默认参数
   
   5. Comunication组件 EventTest EventTest.vue
   
      原生dom事件在html标签和组件标签身上的区别
   
      原生dom事件在thml标签身上使用，就正常使用，主要要清楚\$event（默认参数）在原生dom事件中是事件对象
   
      原生dom事件在组件标签身上使用，即使名字和原生dom事件名字相同，但是它也不是原生dom事件了，就变为自定义事件。假设我非要让这个事件是原生dom事件，那么需要加事件描述符 .native，这个事件其实是加给组件根元素就变成了 事件委派
   
      .native 相当于加给了组件的根标签
   
      回不回来找目标元素 event.target 区分事件冒泡和事件委托

   

## X. 自定义事件在html标签身上和组件标签身上有啥区别

1. 自定义事件在html标签身上使用 无意义 以后在html标签身上只能绑定原生dom事件
2. 自定义事件在组件标签身上使用的时候，事件类型即使是原生



---

## . 默认插槽和具名插槽

1. 为什么要用插槽？什么时候用插槽？

   插槽 不光传递数据 还固定结构 不用插槽页面会变得复杂 多定义几个组件

   slot 挖坑占位 插槽叫默认插槽，因为没名字

   在填坑的时候 一个template对应一个插槽，

   每个template都要去写v-slot，代表给哪个插槽填坑。

   如果是默认插槽v-slot:default，默认插槽只能有一个

   如果是具名插槽，v-slot: aa

   默认插槽和具名插槽如果没被填坑，那么可以写默认值，后期使用的时候被填坑了，那么就变为新的内容

   ## XXXXXXXXXXXXXXX



## x. 作用域插槽

1. 数据一定是定义或者是初始化在父组件当中的
2. 数据要传递给子组件，让子组件去展示使用(vfor)
3. 子组件在展示的过程中，数据的结构子组件说了不算，需要父组件决定
4. 组件当中不能把数据写死 不然后期无法复用
5. 作用域插槽 v-slot:default="slotProps" 等号写的是收集的数据





   

   

   

